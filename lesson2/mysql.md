# MySql

## Урок 2.

## Создаём таблицу c названием goods:
`Некоторые типы полей намеренно экспериментальны. Например поле "price" имеет тип decimal, хотя в реальном проекте это было бы оправданно наверное только для отображения курса валют.
 Кроме того поле описание - "description" имеет тип longtext хотя понятно, что в поле описание товара очень сложно переполнить. Поле Краткое описание - "short_annotation" имеет тип tinyint, хотя правильнее было бы 
  сделать varchar. По сути для кирилицы в utf8 это varchar(127), но без возможности расширения.
  Кроме того, у нас в поле цена и количество не должны быть отрицательными числами, а поле цена не может быть пустым.`

```sql
CREATE TABLE `goods` (  `id` serial, `title` varchar(255), `description` longtext, 
                        `short_annotation` tinytext, 
                        `vendor_code` char(8) NOT NULL, 
                        `image_url` varchar(255), 
                        `price` decimal(8,2) NOT NULL unsigned, 
                        `sales_start_day` timestamp, 
                        `quantity` smallint unsigned, 
                        `exists` boolean DEFAULT false);
```
###Сразу хотелось бы обратить внимание на поле "exists" - наличие товара. Несмотря на то что присвоенное значение по умолчанию было false, при просмотре структуры таблицы отображается значение "0"

###Вставим демо-данные в таблицу
#### Запросы в версии 5.6.29
```sql
INSERT INTO `goods` (`title`, `description`, `short_annotation`, `vendor_code`, `image_url`, `price`, `sales_start_day`, `quantity`, `exists`)
VALUES (
'WeThePeople Envy', 
'Он всегда совершенен. Тем не менее, из года в год мы одержимы желанием сделать его ещё лучше, байком мечты любого райдера, желающего кататься как Про. 
Его рама и вилка, выполненные на 100% из 4130 Sanco, получившие термообработку и захватывающий дух дизайн Black Titan. 
Гармоничное дополнение в виде россыпи украшающих фреймсет компонентов Eclat, включая жирные покрышки Stevie Churchill Signature и шатуны Aeon, готовые крошить бетон. 
Трепетное внимание к деталям выражено и в наличие втулок Blind, за качество которых ручается сам Shane Weston. Зверь, вызывающий зависть, стал ещё лучше.', 

'Главной особенностью велосипеда BMX является полное отсутствие подвески и наличие всего лишь одной передачи. В остальном же вариации могут быть разными. 
Еще одно, не менее важное отличие - очень маленький вес, в пределах 11 кг.', '12124322', '/images/bicycle1.png', '44040', NULL, '7', '0');
```
#### Всё вставилось, ожидаемо обрезался текст в поле `short_annotation`.

#### Тот же самый запрос в версии 5.7.11
```sql
INSERT INTO `goods` (`title`, `description`, `short_annotation`, `vendor_code`, `image_url`, `price`, `sales_start_day`, `quantity`, `exists`)
VALUES (
'WeThePeople Envy', 
'Он всегда совершенен. Тем не менее, из года в год мы одержимы желанием сделать его ещё лучше, байком мечты любого райдера, желающего кататься как Про. 
Его рама и вилка, выполненные на 100% из 4130 Sanco, получившие термообработку и захватывающий дух дизайн Black Titan. 
Гармоничное дополнение в виде россыпи украшающих фреймсет компонентов Eclat, включая жирные покрышки Stevie Churchill Signature и шатуны Aeon, готовые крошить бетон. 
Трепетное внимание к деталям выражено и в наличие втулок Blind, за качество которых ручается сам Shane Weston. Зверь, вызывающий зависть, стал ещё лучше.', 

'Главной особенностью велосипеда BMX является полное отсутствие подвески и наличие всего лишь одной передачи. В остальном же вариации могут быть разными. 
Еще одно, не менее важное отличие - очень маленький вес, в пределах 11 кг.', '12124322', '/images/bicycle1.png', '4404', NULL, '7', '0');
```
#### Получаем ошибку
```sql
Ошибка в запросe (1406): Data too long for column 'short_annotation' at row 1
```
